(this.webpackJsonpgabush=this.webpackJsonpgabush||[]).push([[0],{4:function(e,t,a){e.exports={table:"Form_table__1xAiq",headerWrapper:"Form_headerWrapper__2Rl2f",main:"Form_main__11AIt",tableContainer:"Form_tableContainer__1FXwu",headElement:"Form_headElement__1lV7X",mainElement:"Form_mainElement__3K3t1",mainRow:"Form_mainRow__3j_aQ",headRow:"Form_headRow__2TqeF"}},44:function(e,t,a){e.exports=a(67)},49:function(e,t,a){},52:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),l=a.n(c),o=a(3),s=(a(49),a(50),a(51),a(52),a(13)),i=a(5),m=a(9),u=a(10),d=a(12),f=a(11),p=a(18),h=function(e){var t=e.type,a=void 0===t?"button":t,n=e.children,c=e.onClick,l=e.customClass,o=e.name;return r.a.createElement("button",{className:"basicButton ".concat(l),type:a,onClick:c,name:o},n)},E=function(e){var t=e.type,a=e.value,n=e.name,c=e.onChange,l=e.id,o=e.reff,s=e.customClass,i=e.placeholder;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{ref:o,className:"basicInput ".concat(s),id:l,type:t,value:a,name:n,onChange:c,placeholder:i}))},v=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={counter:0},e.handleIncrement=function(t){e.setState((function(e){return{counter:e.counter+1}})),e.props.onClick(t)},e.handleDecrement=function(t){e.state.counter>0&&(e.setState((function(e){return{counter:e.counter-1}})),e.props.onClick(t))},e.handleChange=function(t){e.setState({counter:Number(t.target.value)}),e.props.onClick(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.counter;return r.a.createElement("div",{className:"counter"},r.a.createElement(h,{type:"button",name:"counterDecrement",onClick:this.handleDecrement,customClass:"counterBnt"},"-"),r.a.createElement(E,{type:"number",value:e,name:"mountInput",onChange:this.handleChange}),r.a.createElement(h,{type:"button",name:"counterIncrement",onClick:this.handleIncrement,customClass:"counterBnt"},"+"))}}]),a}(n.Component),g=function(e){var t=e.el,a=e.onClick;return r.a.createElement("li",{className:"menu-list__element",id:t.id},r.a.createElement("img",{className:"menu-list__img",src:t.img,alt:t.name}),r.a.createElement("p",{className:"menu-list__element-name"},t.name," ",t.price,"\u0433\u0440\u043d./\u0448\u0442."),r.a.createElement(v,{onClick:a}))},_=function(e){var t=e.el,a=e.index,n=t.name,c=t.mount,l=t.price;return r.a.createElement("li",{className:"orderListElement"},r.a.createElement("span",null,a+1,".")," ",r.a.createElement("span",{className:"orderListElement__name"},n)," ",r.a.createElement("span",{className:"orderListElement__mount"},c,"\u0448\u0442.")," -"," ",r.a.createElement("span",null,l*c,"\u0433\u0440\u043d."))},b=function(e){var t=e.menu,a=e.order,n=t.reduce((function(e,t){return e+t.price*t.mount}),0);return r.a.createElement("div",{className:"orderList"},r.a.createElement("div",{className:"orderList__order-info"},r.a.createElement("p",{className:"order-info__time"},a.date),r.a.createElement("p",{className:"order-info__name"}," ",a.name),r.a.createElement("p",{className:"order-info__room"},"\u0417\u0430\u043b: ",a.room)," ",r.a.createElement("p",{className:"order-info__guests"},"\u0413\u043e\u0441\u0442\u0435\u0439: ",Number(a.guests))),r.a.createElement("ul",{className:"orderList-dishes-list"},t.length>0?t.map((function(e,t){return r.a.createElement(_,{el:e,key:e.id,index:t})})):r.a.createElement("h2",null,"\u041d\u0438 \u043e\u0434\u043d\u043e \u0431\u043b\u044e\u0434\u043e \u0435\u0449\u0451 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e")),r.a.createElement("p",{className:"order-info__price"},"\u0412\u0441\u0435\u0433\u043e: ",n,"\u0433\u0440\u043d."))},O=function(e){var t=e.onClick;return r.a.createElement("div",{className:"notification-wrapper"},r.a.createElement("div",{className:"notification"},r.a.createElement("p",{className:"notification-text"},"\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),r.a.createElement("div",{className:"notification-btn__container"},r.a.createElement(o.b,{to:"/",onClick:t},r.a.createElement(h,null,"Ok")))))},y=function(e){var t=e.order,a=e.menu,n=e.filteredMenu,c=e.onClick,l=e.onSaveClick,s=e.notificationOk,i=e.orderIsReady,m=e.ressetMenu;return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(O,{onClick:function(){s(),m()}}),r.a.createElement("div",{className:"menu-list__wrapper"},r.a.createElement(o.b,{to:"/home",className:"newOrder__toMain-link",onClick:function(){return m()}},r.a.createElement(h,{type:"button"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0430\u044e")),r.a.createElement("ul",{className:"menu-list"},a.map((function(e){return r.a.createElement(g,{key:e.id,el:e,onClick:c})}))),r.a.createElement(h,{type:"button",name:"saveDishes",onClick:function(){return l(n)},customClass:"menu-list__saveBtn"},"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement(b,{menu:n,order:t}))},N=a(14),C=a(20),j=a(43),k=a(28),S=a.n(k),w=a(40),D=a.n(w),I=a(41),F=a.n(I),R=function(e){var t=e.options,a=void 0===t?[]:t,c=e.customClass,l=e.name,o=e.id,s=e.placeholder,i=e.value,m=e.onChange,u=Object(n.useState)(!0),d=Object(C.a)(u,2),f=d[0],p=d[1];return r.a.createElement("div",{className:"select-container"},r.a.createElement("label",{htmlFor:o,className:"select-label ".concat(f&&"none"),onClick:function(){return p(!1)}},s),r.a.createElement("select",{className:"basicSelect ".concat(c),name:l,id:o,value:i,onChange:m},a.map((function(e){return r.a.createElement("option",{key:e},e)}))))},x=["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u043b",1,2,3],M=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(a){console.error("Get state error: ",a)}},A=a(42),P=a.n(A),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="",n=M("orders")||[],r=n.filter((function(e){return e.room===t})).find((function(t){return Date.parse(t.selectedDates[0])===Date.parse(e[0])}));return e.length||(a="Requaired"),new Date(e[0])<Date.now()&&(a="\u042d\u0442a \u0434\u0430\u0442\u0430 \u0443\u0436\u0435 \u043f\u0440\u043e\u0448\u043b\u0430"),r&&(a="\u0417\u0430\u043a\u0430\u0437 \u043d\u0430 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0432 \u044d\u0442\u043e\u043c \u0437\u0430\u043b\u0435 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),a},L=function(e){var t={};return e.name||(t.name="Requaired"),e.tel?14!==e.tel.split("").reduce((function(e,t){return isNaN(t)?e:e+=1}),0)&&(t.tel="Type full tel"):t.tel="Requaired",e.guests||(t.guests="Requaired"),e.comment||(t.comment="Requaired"),isNaN(e.room)&&(t.room="rooomm"),t},B=function(e){var t,a=e.onFormSubmit,c=Object(n.createRef)(),l=Object(n.useState)(""),m=Object(C.a)(l,2),u=m[0],d=m[1],f=Object(n.useState)([]),p=Object(C.a)(f,2),v=p[0],g=p[1],_=Object(n.useState)(!1),b=Object(C.a)(_,2),O=b[0],y=b[1];Object(n.useEffect)((function(){S()("#dataPicker",{enableTime:!0,time_24hr:!0,dateFormat:"d.m H:i",plugins:[new P.a({confirmText:"OK",theme:"light"})],onChange:function(e,t,a){d(t),g(Object(i.a)(e))}}),F()("+38 (099) 999-99-99").mask(c)}),[]);var k=Object(j.a)({initialValues:{name:"",tel:"",guests:"",room:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0437\u0430\u043b",comment:""},validate:L,onSubmit:function(e){u&&!q(v,e.room)?a(Object(s.a)({},e,{date:u,selectedDates:v,id:D.a.generate()})):y(!0)}});return r.a.createElement("form",{onSubmit:k.handleSubmit,className:"consumer-form"},r.a.createElement(E,(t={customClass:"consumer-form__input",type:"text",id:"date",name:"date"},Object(N.a)(t,"id","dataPicker"),Object(N.a)(t,"placeholder","\u0414\u0430\u0442\u0430 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),Object(N.a)(t,"value",u),Object(N.a)(t,"onChange",k.handleChange),t)),q(v,k.values.room)&&O&&r.a.createElement("span",null,q(v,k.values.room)),r.a.createElement(E,{customClass:"consumer-form__input",type:"text",id:"name",name:"name",value:k.values.name,placeholder:"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430",onChange:k.handleChange}),k.errors.name&&r.a.createElement("span",null,k.errors.name),r.a.createElement(E,{customClass:"consumer-form__input",reff:c,type:"text",id:"tel",name:"tel",value:k.values.tel,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043b\u0438\u0435\u043d\u0442\u0430",onChange:k.handleChange}),k.errors.tel&&r.a.createElement("span",null,k.errors.tel),r.a.createElement(R,{customClass:"consumer-form__input",id:"room",name:"room",options:x,value:k.values.room,onChange:k.handleChange}),k.errors.room&&r.a.createElement("span",null,k.errors.room),r.a.createElement(E,{customClass:"consumer-form__input",type:"number",id:"guests",name:"guests",value:k.values.guests,placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439",onChange:k.handleChange}),k.errors.guests&&r.a.createElement("span",null,k.errors.guests),r.a.createElement(E,{customClass:"consumer-form__input",type:"text",name:"comment",id:"comment",value:k.values.comment,placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:k.handleChange}),k.errors.comment&&r.a.createElement("span",null,k.errors.comment),r.a.createElement("div",{className:"newOrder__btn-container"},r.a.createElement(o.b,{to:"/home"},r.a.createElement(h,{type:"button",className:" saveConsumerBtn"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement(h,{type:"submit",customClass:"saveConsumerBtn"},"\u0414\u0430\u043b\u044c\u0448\u0435")))},T=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orderIsReady:!1,isPrevInfoSave:!1,order:{}},e.handlePrevInfoSubmit=function(t){e.setState({order:Object(s.a)({},t),isPrevInfoSave:!0})},e.onDishClick=function(t){var a=e.props.menu;if("counterIncrement"===t.target.name){var n=t.target.closest("li"),r=a.find((function(e){return n.id===String(e.id)}));return r.mount+=1,void e.setState({menu:[].concat(Object(i.a)(a),[r])})}if("counterDecrement"===t.target.name){var c=t.target.closest("li"),l=a.find((function(e){return c.id===String(e.id)}));return l.mount-=1,void e.setState({menu:[].concat(Object(i.a)(a),[l])})}if("mountInput"===t.target.name){var o=t.target.closest("li"),s=a.find((function(e){return o.id===String(e.id)}));return s.mount=Number(t.target.value),void e.setState({menu:[].concat(Object(i.a)(a),[s])})}},e.handleSaveDishes=function(t){var a=e.state,n=a.order;a.orderIsReady||e.setState({order:Object(s.a)({},n,{dishes:t}),orderIsReady:!0})},e.filter=function(e){return e.filter((function(e){return e.mount>0}))},e.orderIsReadyResset=function(){e.setState({orderIsReady:!1})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.onAddNewOrder,n=this.state.order;t.order.dishes!==n.dishes&&a(n)}},{key:"render",value:function(){var e=this.state,t=e.isPrevInfoSave,a=e.order,n=e.orderIsReady,c=this.props,l=c.menu,o=c.ressetMenu,s=this.filter(l);return r.a.createElement("div",{className:"newOrder"},r.a.createElement("div",{className:"wrapper"},!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{onFormSubmit:this.handlePrevInfoSubmit})),t&&r.a.createElement(y,{ressetMenu:o,notificationOk:this.orderIsReadyResset,orderIsReady:n,onSaveClick:this.handleSaveDishes,order:a,menu:l,filteredMenu:s,onClick:this.onDishClick})))}}]),a}(n.Component),J=[{id:1,name:"\u0413\u0440\u0435\u0446\u044c\u043a\u0438\u0439",mount:0,img:"https://i.obozrevatel.com/food/recipemain/2018/11/15/screenshot81.webp?size=600x400",price:55,ingridients:{"\u041e\u0433\u0456\u0440\u043a\u0438 \u0441\u0432\u0456\u0436\u0456":35,"\u041f\u043e\u043c\u0456\u0434\u043e\u0440\u0438":40,"\u041f\u0435\u0440\u0435\u0446\u044c \u0441\u0432\u0456\u0436\u0438\u0439":20,"\u0421\u0438\u0440 \u0431\u0440\u0438\u043d\u0437\u0430":30,"\u041c\u0430\u0441\u043b\u0438\u043d\u0438":20,"\u041e\u043b\u0456\u044f \u0440\u0430\u0444\u0456\u043d\u043e\u0432\u0430\u043d\u0430":5}},{id:2,name:"\u0421\u0442\u043e\u043b\u0438\u0447\u043d\u0438\u0439",mount:0,img:"https://img07.rl0.ru/eda/1200x-i/s2.eda.ru/StaticContent/Photos/110816122019/140416222409/p_O.jpg",price:35,ingridients:{"\u041e\u0433\u0456\u0440\u043a\u0438 \u0441\u0432\u0456\u0436\u0456":15,"\u042f\u0439\u0446\u0435 \u043a\u0443\u0440\u044f\u0447\u0435":30,"\u041a\u0443\u0440\u044f\u0447\u0435 \u0444\u0456\u043b\u0435":30,"\u041e\u0433\u0456\u0440\u043a\u0438 \u0441\u043e\u043b\u043e\u043d\u0456":15,"\u041a\u0430\u0440\u0442\u043e\u043f\u043b\u044f":20,"\u041c\u0430\u0439\u043e\u043d\u0435\u0437":30}},{id:3,name:"\u041d\u0456\u0436\u043d\u0438\u0439",mount:0,img:"https://alimero.ru/uploads/images/00/65/50/2018/02/04/cd8d0f_wmark.jpg",price:45,ingridients:{"\u041e\u0433\u0456\u0440\u043a\u0438 \u0441\u0432\u0456\u0436\u0456":30,"\u0413\u0440\u0438\u0431\u0438":30,"\u0410\u043d\u0430\u043d\u0430\u0441 \u043a\u043e\u043d\u0441\u0435\u0440\u0432.":20,"\u041a\u0443\u0440\u044f\u0447\u0435 \u0444\u0456\u043b\u0435":30,"\u0426\u0438\u0431\u0443\u043b\u044f \u043c\u0430\u0440\u0438\u043d\u043e\u0432.":10,"\u041c\u0430\u0439\u043e\u043d\u0435\u0437":30}},{id:4,name:"\u0411\u0443\u0440\u0436\u0443\u0439",mount:0,img:"https://img.povar.ru/main/b2/ad/3e/96/recept_salata_quotburjuiquot-411034.jpg",price:48,ingridients:{"\u041f\u043e\u043c\u0456\u0434\u043e\u0440\u0438":20,"\u0413\u0440\u0438\u0431\u0438":20,"\u042f\u0439\u0446\u0435 \u043a\u0443\u0440\u044f\u0447\u0435":30,"\u041a\u0443\u0440\u044f\u0447\u0435 \u0444\u0456\u043b\u0435":30,"\u0421\u0438\u0440":20,"\u041c\u0430\u0439\u043e\u043d\u0435\u0437":30}}],U=a(4),W=a.n(U),z=function(e){var t=e.children;return r.a.createElement("div",{className:W.a.headElement},t)},H=function(){return r.a.createElement("ul",{className:W.a.headerWrapper},r.a.createElement("li",{className:W.a.headRow},r.a.createElement(z,null,"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043b\u0430"),r.a.createElement(z,null,"\u0412\u0440\u0435\u043c\u044f"),r.a.createElement(z,null,"\u0424\u0418\u041e"),r.a.createElement(z,null,"\u041a\u043e\u043b. \u0433\u043e\u0441\u0442\u0435\u0439"),r.a.createElement(z,null,"\u041f\u0440\u0438\u043c\u0435\u0442\u043a\u0438")))},K=function(e){var t=e.children;return r.a.createElement("div",{className:W.a.mainElement},t)},V=function(e){var t=e.room,a=e.date,n=e.name,c=e.guests,l=e.comment,s=e.id;return r.a.createElement("li",null,r.a.createElement(o.b,{to:"/home/order/".concat(s),className:W.a.mainRow},r.a.createElement(K,null,t),r.a.createElement(K,null,a),r.a.createElement(K,null,n),r.a.createElement(K,null,c),r.a.createElement(K,null,l)))},X=function(e){var t=e.orders;return r.a.createElement("ul",{className:W.a.main},t.length>0?t.map((function(e){return r.a.createElement(V,{key:e.id,id:e.id,room:e.room,date:e.date,name:e.name,guests:e.guests,comment:e.comment})})):r.a.createElement("li",{style:{textAlign:"center",display:"block",paddingTop:"20px"}},r.a.createElement("p",{style:{textAlign:"center",display:"block"}},"\u041d\u0430 \u044d\u0442\u0443 \u0434\u0430\u0442\u0443 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435\u0442")))},Y=function(e){var t=e.orders;return r.a.createElement("div",{className:W.a.table},r.a.createElement(H,null),r.a.createElement(X,{orders:t}))},G=function(e){var t=e.orders;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:W.a.tableContainer},r.a.createElement("div",{className:"datePickerWrapper"},r.a.createElement(E,{customClass:"none",type:"text",id:"dataPicker"})),r.a.createElement(Y,{orders:t})),r.a.createElement("div",{className:"main-info__btn-container"},r.a.createElement(o.b,{to:{pathname:"/newOrder"},className:"link"},r.a.createElement(h,{customClass:"main-info__new-order--btn"},"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437")),r.a.createElement(o.b,{to:"/home/orderIngridients",className:"link"},r.a.createElement(h,{customClass:"main-info__buy--btn"},"\u0417\u0430\u043a\u0443\u043f\u043a\u0438"))))},Q=function(e){var t=e.children;return r.a.createElement("span",{className:"ConsumerInfoEl"},t)},Z=function(e){var t=e.order,a=t.room,n=t.name,c=t.date,l=t.guests,o=t.tel,s=t.comment;return r.a.createElement("div",{className:"consumer-header"},r.a.createElement(Q,null,"\u0417\u0430\u043b ",a),r.a.createElement(Q,null,c),r.a.createElement(Q,null,n),r.a.createElement(Q,null,o),r.a.createElement(Q,null,l," \u0447\u0435\u043b."),r.a.createElement(Q,null,s))},$=function(e){var t=e.el,a=t.name,n=t.price,c=t.mount;return r.a.createElement("li",{className:"menu-info__el"},r.a.createElement("p",{className:"menu-info__category menu-info__category--dish"},a),r.a.createElement("p",{className:"menu-info__category"},n," \u0433\u0440\u043d."),r.a.createElement("p",{className:"menu-info__category"},c),r.a.createElement("p",{className:"menu-info__category"},n*c," \u0433\u0440\u043d."))},ee=function(e){var t=e.dishes,a=void 0===t?[]:t,n=a.reduce((function(e,t){return e+t.price*t.mount}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"menu-info__list"},r.a.createElement("div",{className:"total-price"},r.a.createElement("p",null,"\u0421\u0443\u043c\u043c\u0430:"),r.a.createElement("p",null,n," \u0433\u0440\u043d.")),a&&a.length>0?a.map((function(e){return r.a.createElement($,{key:e.id,el:e})})):r.a.createElement("li",null,"No food in this order")))},te=function(){return r.a.createElement("div",{className:"oneOrder__menu-header"},r.a.createElement("p",{className:"menu-header__category menu-header__category--dish"},"\u0411\u043b\u044e\u0434\u043e"),r.a.createElement("p",{className:"menu-header__category"},"\u0426\u0435\u043d\u0430/\u0435\u0434."),r.a.createElement("p",{className:"menu-header__category"},"\u041f\u043e\u0440\u0446\u0438\u0439"),r.a.createElement("p",{className:"menu-header__category"},"\u0426\u0435\u043d\u0430"))},ae=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={order:[]},e.getOrdersFromLS=function(){var t=e.props.match,a=M("orders");if(a){var n=a.find((function(e){return e.id===t.params.id}));e.setState({order:n})}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOrdersFromLS()}},{key:"componentDidUpdate",value:function(e,t){e.match.url!==this.props.match.url&&this.getOrdersFromLS()}},{key:"render",value:function(){var e=this.state.order;return r.a.createElement("div",{className:"order-wrapper"},r.a.createElement(Z,{order:e}),r.a.createElement(te,null),e&&r.a.createElement(ee,{dishes:e.dishes}))}}]),a}(n.Component),ne=function(e){var t=e.date;return r.a.createElement("div",{className:"consumer-header ingr-dates"},t)},re=function(){return r.a.createElement("div",{className:"oneOrder__menu-header ingr-header"},r.a.createElement("p",{className:"menu-header__category menu-header__category--dish"},"\u0418\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442"),r.a.createElement("p",{className:"menu-header__category"},"\u0412\u0435\u0441"),r.a.createElement("p",{className:"menu-header__category"},"\u0423\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u044f"))},ce=function(e){var t=e.ingridients,a=e.el;return r.a.createElement("li",{className:"menu-info__el"},r.a.createElement("p",{className:"menu-info__category menu-info__category--dish"},a),r.a.createElement("p",{className:"menu-info__category"},t[a]," \u0433\u0440."),r.a.createElement("p",{className:"menu-info__category"}))},le=function(e){var t=e.ingridients,a=Object.keys(t).sort((function(e,t){return e.localeCompare(t,"ru")}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"menu-info__list ingr__list"},a.length>0?a.map((function(e){return r.a.createElement(ce,{key:e,el:e,ingridients:t})})):r.a.createElement("li",null,"No active orders")))},oe=function(e){var t=e.date,a=e.ingridients;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{date:t}),r.a.createElement(re,null),r.a.createElement(le,{ingridients:a}))},se=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={input:null,filteredOrders:[],filterDates:[],dateStr:"",ingridients:{}},e.getIngr=function(){var t=e.state.filteredOrders.reduce((function(e,t){var a=t.dishes.reduce((function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(Object.keys(t.ingridients)))}),[]);return[].concat(Object(i.a)(e),Object(i.a)(a))}),[]).reduce((function(e,t){return e.includes(t)?e:[].concat(Object(i.a)(e),[t])}),[]);e.getSummOfIngr(t)},e.getSummOfIngr=function(t){var a=e.state.filteredOrders,n={};t.forEach((function(e){a.forEach((function(t){t.dishes.forEach((function(t){var a=t.ingridients;a[e]&&(n=n[e]?Object(s.a)({},n,Object(N.a)({},e,a[e]+n[e])):Object(s.a)({},n,Object(N.a)({},e,a[e])))}))}))})),e.setState({ingridients:n})},e.filter=function(){var t,a=e.props.orders,n=e.state.filterDates;t=a.filter((function(e){var t=new Date(e.selectedDates[0]);return t>n[0]&&t<n[1]})).sort((function(e,t){return new Date(e.selectedDates[0])-new Date(t.selectedDates[0])})),e.setState({filteredOrders:t})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({input:document.querySelector("#dataPicker")})}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.input!==this.state.input&&S()("#dataPicker",{mode:"range",inline:!0,dateFormat:"d.m.Y",onReady:function(e,t,n){var r=function(e){return e.padStart(2,"0")},c=n.now.getFullYear(),l=r(String(n.now.getDate())),o=r(String(n.now.getMonth()+1)),s=60*(60*n.now.getHours()+n.now.getMinutes())*1e3,i=Date.now()-s,m=i+864e5;a.setState({filterDates:[i,m],dateStr:"".concat(l,".").concat(o,".").concat(c)})},onChange:function(e,t,n){if(!(e.length<2)){var r=Date.parse(e[0]),c=Date.parse(e[1])+864e5;a.setState({filterDates:[r,c],dateStr:t})}}}),t.filterDates!==this.state.filterDates&&this.filter(),t.filteredOrders!==this.state.filteredOrders&&this.getIngr()}},{key:"render",value:function(){var e=this.state,t=e.filteredOrders,a=e.dateStr,n=e.ingridients;return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(G,{orders:t}),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/home/order/:id",component:ae}),r.a.createElement(p.b,{path:"/home/orderIngridients",render:function(e){return r.a.createElement(oe,Object.assign({},e,{date:a,ingridients:n}))}}))))}}]),a}(n.Component),ie=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={menu:[],orders:[]},e.handleAddNewOrder=function(t){var a=e.state.orders;e.setState({orders:[].concat(Object(i.a)(a),[t])})},e.menuMountResset=function(){var t=e.state.menu.map((function(e){return Object(s.a)({},e,{mount:0})}));e.setState({menu:t})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({menu:Object(i.a)(J)});var e=M("orders");e&&this.setState({orders:e})}},{key:"componentDidUpdate",value:function(e,t){t.orders!==this.state.orders&&function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){console.error("Set state error: ",n)}}("orders",this.state.orders)}},{key:"render",value:function(){var e=this,t=this.state,a=t.menu,n=t.orders;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/home",render:function(e){return r.a.createElement(se,Object.assign({},e,{orders:n}))}}),r.a.createElement(p.b,{path:"/newOrder",render:function(t){return r.a.createElement(T,Object.assign({},t,{menu:a,ressetMenu:e.menuMountResset,onAddNewOrder:e.handleAddNewOrder}))}}),"/>",r.a.createElement(p.a,{to:"/home"})))}}]),a}(n.Component);l.a.render(r.a.createElement(o.a,null,r.a.createElement(ie,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.fe283961.chunk.js.map